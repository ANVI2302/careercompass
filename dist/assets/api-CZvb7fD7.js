const r="http://localhost:8000/api/v1";let s=null;const a={setToken(t){s=t},getToken(){return s},async login(t,e){const o=await fetch(`${r}/auth/login`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:t,password:e})});if(!o.ok)throw new Error("Login failed");return o.json()},async register(t,e,o){const n=await fetch(`${r}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,full_name:e,password:o})});if(!n.ok)throw new Error("Registration failed");return n.json()},async getProfile(t){const e=await fetch(`${r}/auth/me`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to fetch profile");return e.json()},async updateProfile(t,e){const o=await fetch(`${r}/auth/me`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!o.ok)throw new Error("Profile update failed");return o.json()},async getAchievements(t){const e=await fetch(`${r}/achievements/me`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to fetch achievements");return e.json()},async createAchievement(t,e){const o=await fetch(`${r}/achievements`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!o.ok)throw new Error("Failed to create achievement");return o.json()},async getProjects(t){const e=await fetch(`${r}/projects/me`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to fetch projects");return e.json()},async createProject(t,e){const o=await fetch(`${r}/projects`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!o.ok)throw new Error("Failed to create project");return o.json()},async updateProject(t,e,o){const n=await fetch(`${r}/projects/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(o)});if(!n.ok)throw new Error("Failed to update project");return n.json()},async deleteProject(t,e){if(!(await fetch(`${r}/projects/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("Failed to delete project")},async endorseProject(t,e){const o=await fetch(`${r}/projects/${e}/endorse`,{method:"POST",headers:{Authorization:`Bearer ${t}`}});if(!o.ok)throw new Error("Failed to endorse project");return o.json()},async getCourses(t,e){const o=new URL(`${r}/courses`);e&&o.searchParams.append("difficulty",e);const n=await fetch(o,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("Failed to fetch courses");return n.json()},async getRecommendedCourses(t){const e=await fetch(`${r}/courses/recommendations`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to fetch recommendations");return e.json()},async getCoursesBySkill(t,e){const o=await fetch(`${r}/courses/by-skill/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(!o.ok)throw new Error("Failed to fetch courses");return o.json()},async getMentors(t){const e=await fetch(`${r}/mentorships/mentors`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to fetch mentors");return e.json()},async getMentees(t){const e=await fetch(`${r}/mentorships/mentees`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to fetch mentees");return e.json()},async getAvailableMentors(t,e){const o=await fetch(`${r}/mentorships/available-mentors?skill_focus=${e}`,{headers:{Authorization:`Bearer ${t}`}});if(!o.ok)throw new Error("Failed to fetch available mentors");return o.json()},async createMentorship(t,e){const o=await fetch(`${r}/mentorships`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!o.ok)throw new Error("Failed to create mentorship");return o.json()},async updateMentorship(t,e,o){const n=await fetch(`${r}/mentorships/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(o)});if(!n.ok)throw new Error("Failed to update mentorship");return n.json()},async cancelMentorship(t,e){if(!(await fetch(`${r}/mentorships/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("Failed to cancel mentorship")},async getNotifications(t){const e=await fetch(`${r}/notifications`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to fetch notifications");return e.json()},async markNotificationsRead(t,e){const o=await fetch(`${r}/notifications/mark-read`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({notification_ids:e})});if(!o.ok)throw new Error("Failed to mark notifications");return o.json()},async deleteNotification(t,e){if(!(await fetch(`${r}/notifications/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("Failed to delete notification")},async getUnreadNotificationCount(t){const e=await fetch(`${r}/notifications/unread-count`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to fetch unread count");return e.json()},async getSettings(t){const e=await fetch(`${r}/users/settings`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to fetch settings");return e.json()},async updateNotificationSettings(t,e){const o=await fetch(`${r}/users/settings/notifications`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!o.ok)throw new Error("Failed to update notification settings");return o.json()},async updatePrivacySettings(t,e){const o=await fetch(`${r}/users/settings/privacy`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!o.ok)throw new Error("Failed to update privacy settings");return o.json()},async changePassword(t,e){const o=await fetch(`${r}/users/settings/password`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!o.ok)throw new Error("Failed to change password");return o.json()}};export{a};
